<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ramadan Kareem</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Amiri:ital@0;1&family=Cormorant+Garamond:wght@300;400&display=swap');

  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --gold: #c9a84c;
    --gold-light: #e8c97a;
    --deep: #0a0f1e;
    --teal: #1a3a4a;
    --cream: #f5ead8;
  }

  body {
    min-height: 100vh;
    background: var(--deep);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Cormorant Garamond', serif;
    overflow: hidden;
    position: relative;
  }

  canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 0;
  }

  .center {
    position: relative;
    z-index: 10;
    text-align: center;
    pointer-events: none;
  }

  .arabic {
    font-family: 'Amiri', serif;
    font-size: clamp(2rem, 6vw, 4rem);
    color: var(--gold);
    letter-spacing: 0.08em;
    line-height: 1.3;
    text-shadow: 0 0 40px rgba(201,168,76,0.4);
    opacity: 0;
    animation: fadeUp 1.4s ease 0.3s forwards;
  }

  .english {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(0.75rem, 2vw, 1rem);
    font-weight: 300;
    color: var(--cream);
    letter-spacing: 0.35em;
    text-transform: uppercase;
    margin-top: 1rem;
    opacity: 0;
    animation: fadeUp 1.4s ease 0.7s forwards;
  }

  .divider {
    width: 60px;
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
    margin: 1.2rem auto;
    opacity: 0;
    animation: fadeUp 1.4s ease 0.5s forwards;
  }

  .countdown {
    margin-top: 1.8rem;
    font-size: clamp(0.65rem, 1.5vw, 0.8rem);
    font-weight: 300;
    color: rgba(245,234,216,0.5);
    letter-spacing: 0.25em;
    text-transform: uppercase;
    opacity: 0;
    animation: fadeUp 1.4s ease 1s forwards;
  }

  .countdown span {
    color: var(--gold);
    font-size: 1.1em;
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(18px); }
    to   { opacity: 1; transform: translateY(0); }
  }
</style>
</head>
<body>

<canvas id="c"></canvas>

<div class="center">
  <div class="arabic">رَمَضَان كَرِيم</div>
  <div class="divider"></div>
  <div class="english">Ramadan Kareem</div>
  <div class="countdown">Redirecting in <span id="countdown">3</span>s</div>
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let W, H, bubbles = [];

const GOLD = 'rgba(201,168,76,';
const TEAL = 'rgba(26,90,100,';

function resize() {
  W = canvas.width = window.innerWidth;
  H = canvas.height = window.innerHeight;
}

class Bubble {
  constructor() { this.reset(true); }

  reset(initial = false) {
    this.r = 6 + Math.random() * 30;
    this.x = Math.random() * W;
    this.y = initial ? Math.random() * H : H + this.r * 2;
    this.vy = -(0.3 + Math.random() * 0.6);
    this.vx = (Math.random() - 0.5) * 0.3;
    this.wobble = Math.random() * Math.PI * 2;
    this.wobbleSpeed = 0.008 + Math.random() * 0.012;
    this.alpha = 0.04 + Math.random() * 0.18;
    this.color = Math.random() > 0.4 ? GOLD : TEAL;
    // crescent chance
    this.isCrescent = Math.random() < 0.12;
    // star chance
    this.isStar = !this.isCrescent && Math.random() < 0.08;
  }

  update() {
    this.wobble += this.wobbleSpeed;
    this.x += this.vx + Math.sin(this.wobble) * 0.4;
    this.y += this.vy;
    if (this.y < -this.r * 3) this.reset();
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.alpha;
    if (this.isCrescent) {
      drawCrescent(ctx, this.x, this.y, this.r, this.color);
    } else if (this.isStar) {
      drawStar(ctx, this.x, this.y, this.r * 0.5, this.color);
    } else {
      // bubble ring
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.r, 0, Math.PI * 2);
      ctx.strokeStyle = this.color + '1)';
      ctx.lineWidth = 0.8;
      ctx.stroke();
      // inner shimmer
      const g = ctx.createRadialGradient(
        this.x - this.r * 0.3, this.y - this.r * 0.3, 0,
        this.x, this.y, this.r
      );
      g.addColorStop(0, this.color + '0.15)');
      g.addColorStop(1, this.color + '0)');
      ctx.fillStyle = g;
      ctx.fill();
    }
    ctx.restore();
  }
}

function drawCrescent(ctx, x, y, r, color) {
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI * 2);
  ctx.fillStyle = color + '0.6)';
  ctx.fill();
  ctx.globalCompositeOperation = 'destination-out';
  ctx.beginPath();
  ctx.arc(x + r * 0.35, y, r * 0.8, 0, Math.PI * 2);
  ctx.fill();
  ctx.globalCompositeOperation = 'source-over';
}

function drawStar(ctx, x, y, r, color) {
  const pts = 5;
  const inner = r * 0.4;
  ctx.beginPath();
  for (let i = 0; i < pts * 2; i++) {
    const angle = (i * Math.PI) / pts - Math.PI / 2;
    const rad = i % 2 === 0 ? r : inner;
    i === 0
      ? ctx.moveTo(x + rad * Math.cos(angle), y + rad * Math.sin(angle))
      : ctx.lineTo(x + rad * Math.cos(angle), y + rad * Math.sin(angle));
  }
  ctx.closePath();
  ctx.fillStyle = color + '0.7)';
  ctx.fill();
}

function init() {
  resize();
  const count = Math.min(60, Math.floor(W * H / 18000));
  bubbles = Array.from({ length: count }, () => new Bubble());
}

function loop() {
  ctx.clearRect(0, 0, W, H);
  bubbles.forEach(b => { b.update(); b.draw(); });
  requestAnimationFrame(loop);
}

window.addEventListener('resize', () => { resize(); });
init();
loop();

// Countdown & redirect
let seconds = 10;
const countdownElement = document.getElementById('countdown');
const countdownInterval = setInterval(() => {
  seconds--;
  countdownElement.textContent = seconds;
  if (seconds <= 0) {
    clearInterval(countdownInterval);
    window.location.href = 'https://repo.ikghd.me/ramadan.html';
  }
}, 1000);
</script>
</body>
</html>
